name: Ping My Server

on:
  schedule:
    # Runs every 15 minutes
    - cron: "*/14 * * * *"
  workflow_dispatch: # allows manual trigger

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping server endpoint
        run: |
          echo "Pinging your server..."
          RESPONSE=$(curl -s -w "%{http_code}" -o /dev/null https://store-manager-5kfo.onrender.com/api/v2/product)
          if [ "$RESPONSE" -eq 200 ]; then
            echo "✅ Server responded successfully."
          else
            echo "❌ Server returned HTTP $RESPONSE."
          fi
